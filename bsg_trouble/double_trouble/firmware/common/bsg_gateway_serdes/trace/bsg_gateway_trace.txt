
# This trace file is for programming the bsg_tag
# Author: Paul Gao


# For flashing LED
0001_1000_00000000100110001001011010000000

# Wait for 100ns
0001_1000_00000000000000000000000000000101
# Set IO, CORE async reset to 1
0001_0010_00_00_10_00_00_10_00_000000000000000000
# Wait for 100ns
0001_1000_00000000000000000000000000000101
# Set IO, CORE async reset to 0
0001_0010_00_00_01_00_00_01_00_000000000000000000
# Wait for 200ns
0001_1000_00000000000000000000000000001010

# Set tag_tdi to 1 for reset
0001_0100_0000000011_000_0_0000_00000_00000000_0
# Wait for 640ns
0001_1000_00000000000000000000000000100000

# Init core tag client
# Send all 1's to init
0001_0100_0000000001_000_0_0101_11111_00000000_0
# Wait for 200ns
0001_1000_00000000000000000000000000001010

# Init io tag client
# Send all 1's to init
0001_0100_0000000001_010_0_0101_11111_00000000_0
# Wait for 200ns
0001_1000_00000000000000000000000000001010

# Set tag_tms to 1
0001_0010_00_00_00_00_00_00_10_000000000000000000
# Wait for 200ns
0001_1000_00000000000000000000000000001010

# Init core tag downsampler
# Send stream of 1's
0001_0100_0000000010_001_0_1001_00000_11111111_1
# Send stream of 0's
0001_0100_0000000010_001_1_1001_00000_00000000_1
# Wait for 200ns
0001_1000_00000000000000000000000000001010
# Send stream of 0's, payload not reset
0001_0100_0000000010_001_1_1001_00000_00000000_0
# Wait for 200ns
0001_1000_00000000000000000000000000001010

# Init io tag downsampler
# Send stream of 1's
0001_0100_0000000010_011_0_1001_00000_11111111_1
# Send stream of 0's
0001_0100_0000000010_011_1_1001_00000_00000000_1
# Wait for 200ns
0001_1000_00000000000000000000000000001010
# Send stream of 0's, payload not reset
0001_0100_0000000010_011_1_1001_00000_00000000_0
# Wait for 200ns
0001_1000_00000000000000000000000000001010


# Set IO OSC payload to 27 (24=400MHz)
0001_0101_0000000001_010_1_0101_11011_00000000_0
# Wait for 200ns
0001_1000_00000000000000000000000000001010
# Set IO DS payload to 0
0001_0101_0000000010_011_1_1001_00000_00000000_0
# Wait for 200ns
0001_1000_00000000000000000000000000001010


# Set CORE OSC payload to 13
0001_0101_0000000001_000_1_0101_01101_00000000_0
# Wait for 200ns
0001_1000_00000000000000000000000000001010
# Set CORE DS payload to 0
0001_0101_0000000010_001_1_1001_00000_00000000_0
# Wait for 200ns
0001_1000_00000000000000000000000000001010


# Set IO to DS mode, CORE to OSC mode
0001_0011_01_10_00_01_01_00_00_000000000000000000
# Wait for 200ns
0001_1000_00000000000000000000000000001010


# Set CORE to OSC mode
# 0001_0010_00_00_00_01_01_00_00_000000000000000000
# Wait for 200ns
# 0001_1000_00000000000000000000000000001010

# For flashing LED
0001_1000_00000000100110001001011010000000

# End of testing
0011_0000_00000000000000000000000000000000
